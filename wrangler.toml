# IMPORTANT: After editing this file, run `pnpm cf:typegen` to regenerate the
# types for the Cloudflare Workers runtime.

main = ".open-next/worker.js"
name = "bluesky-backup-serverside"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]
assets = { directory = ".open-next/assets", binding = "ASSETS" }

[[kv_namespaces]]
binding = "BLUESKY_AUTH_SESSION_STORE"
id = "0ba166be0635430ba3dfd9ba5fa2ac14"

[[kv_namespaces]]
binding = "BLUESKY_AUTH_STATE_STORE"
id = "260c99a20b724842bd9e0b69c6a57747"

[[d1_databases]]
binding = "DB"
database_name = "bluesky-backup-dev"
database_id = "ffffffff-ffff-ffff-ffff-ffffffffffff"

[[env.staging.d1_databases]]
binding = "DB"
database_name = "bluesky-backup-staging"
database_id = "070938c7-fea2-4bc3-8bf7-22130a5d2d5b"

[[env.production.d1_databases]]
binding = "DB"
database_name = "bluesky-backup-production"
database_id = "f8e276cc-a9c9-4e3c-907f-b72ee4468e92"